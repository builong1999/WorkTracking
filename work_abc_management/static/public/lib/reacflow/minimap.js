/**
 * Bundled by jsDelivr using Rollup v2.79.1 and Terser v5.19.2.
 * Original file: /npm/@reactflow/minimap@11.5.4/dist/esm/index.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
import{jsx as e,Fragment as o,jsxs as t}from"/npm/react@18.2.0/jsx-runtime/+esm";import{memo as n,useRef as r,useEffect as i}from"/npm/react@18.2.0/+esm";import s from"/npm/classcat@5.0.4/+esm";import{shallow as a}from"/npm/zustand@4.4.6/shallow/+esm";import{zoom as d,zoomIdentity as l}from"/npm/d3-zoom@3.0.0/+esm";import{select as m,pointer as c}from"/npm/d3-selection@3.0.0/+esm";import{useStore as h,getNodePositionWithOrigin as p,useStoreApi as u,Panel as f,getBoundsOfRects as g,getRectOfNodes as w}from"/npm/@reactflow/core@11.7.4/+esm";const k=({id:o,x:t,y:n,width:r,height:i,style:a,color:d,strokeColor:l,strokeWidth:m,className:c,borderRadius:h,shapeRendering:p,onClick:u})=>{const{background:f,backgroundColor:g}=a||{},w=d||f||g;return e("rect",{className:s(["react-flow__minimap-node",c]),x:t,y:n,rx:h,ry:h,width:r,height:i,fill:w,stroke:l,strokeWidth:m,shapeRendering:p,onClick:u?e=>u(e,o):void 0})};k.displayName="MiniMapNode";var v=n(k);const C=e=>e.nodeOrigin,y=e=>e.getNodes().filter((e=>!e.hidden&&e.width&&e.height)),x=e=>e instanceof Function?e:()=>e;var N=n((function({nodeStrokeColor:t="transparent",nodeColor:n="#e2e2e2",nodeClassName:r="",nodeBorderRadius:i=5,nodeStrokeWidth:s=2,nodeComponent:d=v,onClick:l}){const m=h(y,a),c=h(C),u=x(n),f=x(t),g=x(r),w="undefined"==typeof window||window.chrome?"crispEdges":"geometricPrecision";return e(o,{children:m.map((o=>{const{x:t,y:n}=p(o,c).positionAbsolute;return e(d,{x:t,y:n,width:o.width,height:o.height,style:o.style,className:g(o),color:u(o),borderRadius:i,strokeColor:f(o),strokeWidth:s,shapeRendering:w,onClick:l,id:o.id},o.id)}))})}));const $=e=>{const o=e.getNodes(),t={x:-e.transform[0]/e.transform[2],y:-e.transform[1]/e.transform[2],width:e.width/e.transform[2],height:e.height/e.transform[2]};return{viewBB:t,boundingRect:o.length>0?g(w(o,e.nodeOrigin),t):t,rfId:e.rfId}};function b({style:o,className:n,nodeStrokeColor:p="transparent",nodeColor:g="#e2e2e2",nodeClassName:w="",nodeBorderRadius:k=5,nodeStrokeWidth:v=2,nodeComponent:C,maskColor:y="rgb(240, 240, 240, 0.6)",maskStrokeColor:x="none",maskStrokeWidth:b=1,position:S="bottom-right",onClick:M,onNodeClick:R,pannable:E=!1,zoomable:_=!1,ariaLabel:z="React Flow mini map",inversePan:B=!1,zoomStep:W=10}){const I=u(),F=r(null),{boundingRect:O,viewBB:P,rfId:Y}=h($,a),Z=o?.width??200,j=o?.height??150,A=O.width/Z,L=O.height/j,T=Math.max(A,L),X=T*Z,q=T*j,D=5*T,G=O.x-(X-O.width)/2-D,H=O.y-(q-O.height)/2-D,J=X+2*D,K=q+2*D,Q=`react-flow__minimap-desc-${Y}`,U=r(0);U.current=T,i((()=>{if(F.current){const e=m(F.current),o=e=>{const{transform:o,d3Selection:t,d3Zoom:n}=I.getState();if("wheel"!==e.sourceEvent.type||!t||!n)return;const r=-e.sourceEvent.deltaY*(1===e.sourceEvent.deltaMode?.05:e.sourceEvent.deltaMode?1:.002)*W,i=o[2]*Math.pow(2,r);n.scaleTo(t,i)},t=e=>{const{transform:o,d3Selection:t,d3Zoom:n,translateExtent:r,width:i,height:s}=I.getState();if("mousemove"!==e.sourceEvent.type||!t||!n)return;const a=U.current*Math.max(1,o[2])*(B?-1:1),d={x:o[0]-e.sourceEvent.movementX*a,y:o[1]-e.sourceEvent.movementY*a},m=[[0,0],[i,s]],c=l.translate(d.x,d.y).scale(o[2]),h=n.constrain()(c,m,r);n.transform(t,h)},n=d().on("zoom",E?t:null).on("zoom.wheel",_?o:null);return e.call(n),()=>{e.on("zoom",null)}}}),[E,_,B,W]);const V=M?e=>{const o=c(e);M(e,{x:o[0],y:o[1]})}:void 0,ee=R?(e,o)=>{const t=I.getState().nodeInternals.get(o);R(e,t)}:void 0;return e(f,{position:S,style:o,className:s(["react-flow__minimap",n]),"data-testid":"rf__minimap",children:t("svg",{width:Z,height:j,viewBox:`${G} ${H} ${J} ${K}`,role:"img","aria-labelledby":Q,ref:F,onClick:V,children:[z&&e("title",{id:Q,children:z}),e(N,{onClick:ee,nodeColor:g,nodeStrokeColor:p,nodeBorderRadius:k,nodeClassName:w,nodeStrokeWidth:v,nodeComponent:C}),e("path",{className:"react-flow__minimap-mask",d:`M${G-D},${H-D}h${J+2*D}v${K+2*D}h${-J-2*D}z\n        M${P.x},${P.y}h${P.width}v${P.height}h${-P.width}z`,fill:y,fillRule:"evenodd",stroke:x,strokeWidth:b,pointerEvents:"none"})]})})}b.displayName="MiniMap";var S=n(b);export{S as MiniMap};export default null;
//# sourceMappingURL=/sm/ab6f796db595acad58c630b97bd619cef7993af458d36498675d0aff53516f6c.map
